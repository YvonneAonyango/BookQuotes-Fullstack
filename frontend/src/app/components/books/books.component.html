<div class="container-fluid py-3 py-md-4">
  <div class="row">
    <div class="col-12">
      
      <!-- Header Section -->
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 mb-md-5 px-3 px-md-4">
        <div class="mb-3 mb-md-0">
          <h1 class="display-5 fw-bold text-primary mb-2">
            <i class="bi bi-book me-3"></i>
            {{ 'myBooksCollection' | translate }}
          </h1>
          <p class="lead text-muted mb-0 d-none d-md-block">{{ 'managePersonalLibrary' | translate }}</p>
          <p class="text-muted mb-0 d-md-none">{{ 'yourPersonalLibrary' | translate }}</p>
        </div>
        <button class="btn btn-primary btn-lg shadow-sm" (click)="addBook()">
          <i class="bi bi-plus me-2"></i>
          <span class="d-none d-sm-inline">{{ 'addNewBook' | translate }}</span>
          <span class="d-sm-none">{{ 'addBookShort' | translate }}</span>
        </button>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="text-center py-5 loading-pulse">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
          <span class="visually-hidden">{{ 'loadingBooks' | translate }}</span>
        </div>
        <p class="mt-3 text-muted">{{ 'loadingBooksProgress' | translate }}</p>
      </div>

      <!-- Empty State -->
      <div *ngIf="!isLoading && books.length === 0" class="text-center py-5">
        <div class="empty-state-card floating">
          <i class="bi bi-book empty-state-icon" style="font-size: 4rem;"></i>
          <h3 class="h4 text-muted mt-3">{{ 'noBooksYet' | translate }}</h3>
          <p class="text-muted mb-4">{{ 'startBuildingLibrary' | translate }}</p>
          <button class="btn btn-primary btn-lg" (click)="addBook()">
            <i class="bi bi-plus me-2"></i>
            {{ 'addFirstBook' | translate }}
          </button>
        </div>
      </div>

      <!-- Books Grid -->
      <div *ngIf="!isLoading && books.length > 0" class="row g-3 g-md-4 px-3 px-md-4">
        <div class="col-12 col-sm-6 col-lg-4 col-xl-3" *ngFor="let book of books; let i = index">
          <div class="card book-card h-100 shadow-sm border-0">
            <div class="card-body d-flex flex-column p-3 p-md-4">
              
              <!-- Book Content -->
              <div class="flex-grow-1">
                <!-- Book Icon -->
                <div class="text-center mb-3">
                  <i class="bi bi-book book-icon" style="font-size: 3rem;"></i>
                </div>
                
                <!-- Book Details -->
                <h5 class="card-title text-center mb-3 fw-bold text-truncate" [title]="book.title">
                  {{ book.title }}
                </h5>
                
                <h6 class="card-subtitle mb-3 text-muted text-center">
                  {{ 'byAuthor' | translate: { author: book.author } }}
                </h6>
                
                <div class="book-meta text-center">
                  <small class="text-muted">
                    <i class="bi bi-calendar me-1"></i>
                    {{ 'publishedOn' | translate }}: {{ book.publicationDate | date:'mediumDate' }}
                  </small>
                </div>
              </div>
              
              <!-- Actions -->
              <div class="card-footer bg-transparent border-0 pt-3 px-0 pb-0 mt-auto">
                <div class="d-flex gap-2">
                  <button class="btn btn-outline-primary btn-sm flex-fill" 
                          (click)="editBook(book.id!)"
                          [attr.aria-label]="'editBookAria' | translate: { title: book.title }">
                    <i class="bi bi-pencil me-1"></i>
                    <span class="d-none d-sm-inline">{{ 'edit' | translate }}</span>
                    <span class="d-sm-none">{{ 'edit' | translate }}</span>
                  </button>
                  <button class="btn btn-outline-danger btn-sm flex-fill" 
                          (click)="deleteBook(book.id!)"
                          [attr.aria-label]="'deleteBookAria' | translate: { title: book.title }">
                    <i class="bi bi-trash me-1"></i>
                    <span class="d-none d-sm-inline">{{ 'delete' | translate }}</span>
                    <span class="d-sm-none">{{ 'delShort' | translate }}</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Load More Section (Optional - for future pagination) -->
      <div *ngIf="!isLoading && books.length > 0 && hasMoreBooks" class="text-center mt-4 mt-md-5 px-3 px-md-4">
        <button class="btn btn-outline-primary btn-lg">
          <i class="bi bi-arrow-down me-2"></i>
          {{ 'loadMoreBooks' | translate }}
        </button>
      </div>

    </div>
  </div>
</div>
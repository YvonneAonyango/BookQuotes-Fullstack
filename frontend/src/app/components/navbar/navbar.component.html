<nav class="warm-navbar">
  <div class="container navbar-container">

    <!-- Left: Home / Books / Quotes -->
    <div class="navbar-left">
      <a routerLink="/" class="navbar-brand">
        <span class="home-icon">{{ icons.home }}</span>
        <span class="brand-text">{{ 'brand' | translate }}</span>
      </a>
      <a routerLink="/books" class="nav-link" (click)="closeOnNavigate()">Books</a>
      <a routerLink="/quotes" class="nav-link" (click)="closeOnNavigate()">Quotes</a>
    </div>

    <!-- Right: Language / Theme / Auth -->
    <div class="navbar-right">
      <!-- Language -->
      <div class="language-selector">
        <span class="lang-btn" (click)="switchLanguage('en')">EN</span>
        <span class="lang-btn" (click)="switchLanguage('sv')">SE</span>
      </div>

      <!-- Theme -->
      <button class="theme-btn" (click)="toggleDarkMode()">
        {{ isDarkMode ? icons.sun : icons.moon }}
      </button>

      <!-- Auth Buttons -->
      <div class="auth-buttons">
        <ng-container *ngIf="!authService.isAuthenticated(); else loggedIn">
          <a routerLink="/login" class="btn btn-outline" (click)="closeOnNavigate()">Login</a>
          <a routerLink="/register" class="btn btn-primary" (click)="closeOnNavigate()">Register</a>
        </ng-container>
        <ng-template #loggedIn>
          <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" class="btn btn-outline" (click)="closeOnNavigate()">Dashboard</a>
          <button class="btn btn-secondary" (click)="logout()">Logout</button>
        </ng-template>
      </div>

      <!-- Mobile Hamburger -->
      <button class="mobile-toggle" (click)="toggleMobileMenu()">
        {{ icons.menu }}
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.show]="isMobileMenuOpen">
    <a routerLink="/books" class="mobile-link" (click)="closeOnNavigate()">Books</a>
    <a routerLink="/quotes" class="mobile-link" (click)="closeOnNavigate()">Quotes</a>

    <div class="mobile-controls">
      <button class="mobile-theme-btn" (click)="toggleDarkMode()">
        {{ isDarkMode ? icons.sun : icons.moon }}
      </button>
      <div class="mobile-language">
        <span class="mobile-lang-btn" (click)="switchLanguage('en')">EN</span>
        <span class="mobile-lang-btn" (click)="switchLanguage('sv')">SE</span>
      </div>
    </div>

    <div class="mobile-auth">
      <ng-container *ngIf="!authService.isAuthenticated(); else mobileLoggedIn">
        <a routerLink="/login" class="btn btn-outline mobile-btn" (click)="closeOnNavigate()">Login</a>
        <a routerLink="/register" class="btn btn-primary mobile-btn" (click)="closeOnNavigate()">Register</a>
      </ng-container>
      <ng-template #mobileLoggedIn>
        <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" class="btn btn-outline mobile-btn" (click)="closeOnNavigate()">Dashboard</a>
        <button class="btn btn-secondary mobile-btn" (click)="logout()">Logout</button>
      </ng-template>
    </div>
  </div>
</nav>

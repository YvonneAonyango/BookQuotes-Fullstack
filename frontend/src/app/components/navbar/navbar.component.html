<nav class="warm-navbar">
  <div class="container navbar-inner">

    <!-- LEFT: Home logo + Brand + Primary links -->
    <div class="nav-left">
      <a routerLink="/" class="navbar-brand">
        <span class="home-icon">ğŸ </span>
        <span class="brand-text">{{ 'brand' | translate }}</span>
      </a>

      <a routerLink="/books" class="nav-link" (click)="closeOnNavigate()">{{ 'books' | translate }}</a>
      <a routerLink="/quotes" class="nav-link" (click)="closeOnNavigate()">{{ 'quotes' | translate }}</a>
    </div>

    <!-- RIGHT: Language, Theme, Auth -->
    <div class="nav-right">
      <!-- Language -->
      <div class="language-switcher" #dropdown>
        <button class="btn btn-outline-primary language-btn" (click)="toggleDropdown()">
          {{ currentLanguage === 'en' ? flagEn : flagSv }}
        </button>
        <div class="language-dropdown" [class.show]="showDropdown">
          <button class="language-option" (click)="switchLanguage('en')">{{ flagEn }} English</button>
          <button class="language-option" (click)="switchLanguage('sv')">{{ flagSv }} Svenska</button>
        </div>
      </div>

      <!-- Theme toggle -->
      <button class="btn btn-outline-primary theme-btn" (click)="toggleDarkMode()">
        {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
      </button>

      <!-- Auth -->
      <ng-container *ngIf="!authService.isAuthenticated(); else loggedIn">
        <a routerLink="/login" class="btn btn-outline-primary" (click)="closeOnNavigate()">{{ 'login' | translate }}</a>
        <a routerLink="/register" class="btn btn-primary" (click)="closeOnNavigate()">{{ 'register' | translate }}</a>
      </ng-container>
      <ng-template #loggedIn>
        <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" class="btn btn-outline-primary" (click)="closeOnNavigate()">{{ 'adminDashboard' | translate }}</a>
        <button class="btn btn-warning" (click)="logout()">{{ 'logout' | translate }}</button>
      </ng-template>

      <!-- Hamburger menu (mobile) -->
      <button class="navbar-toggle" (click)="toggleMenu()">â˜°</button>
    </div>

  </div>

  <!-- Mobile menu -->
  <div class="mobile-menu" [class.show]="!isCollapsed">
    <a routerLink="/books" (click)="closeOnNavigate()">{{ 'books' | translate }}</a>
    <a routerLink="/quotes" (click)="closeOnNavigate()">{{ 'quotes' | translate }}</a>
    <ng-container *ngIf="!authService.isAuthenticated(); else mobileLoggedIn">
      <a routerLink="/login" (click)="closeOnNavigate()">{{ 'login' | translate }}</a>
      <a routerLink="/register" (click)="closeOnNavigate()">{{ 'register' | translate }}</a>
    </ng-container>
    <ng-template #mobileLoggedIn>
      <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" (click)="closeOnNavigate()">{{ 'adminDashboard' | translate }}</a>
      <button class="btn btn-warning" (click)="logout()">{{ 'logout' | translate }}</button>
    </ng-template>
  </div>
</nav>

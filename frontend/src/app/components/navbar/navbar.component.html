<nav class="navbar modern-navbar" role="navigation">
  <div class="container">
    <!-- Brand -->
    <a class="navbar-brand" routerLink="/">
      <fa-icon [icon]="faHome"></fa-icon>
      {{ 'brand' | translate }}
    </a>

    <!-- Hamburger (mobile only) -->
    <button class="navbar-toggler d-lg-none" type="button" (click)="toggleMenu()">
      <fa-icon [icon]="faBars"></fa-icon>
    </button>

    <!-- Navbar Links -->
    <div class="navbar-menu" [ngClass]="{'open': !isCollapsed}">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" routerLink="/books" routerLinkActive="active">{{ 'books' | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/quotes" routerLinkActive="active">{{ 'quotes' | translate }}</a>
        </li>
        <li class="nav-item" *ngIf="authService.isAdmin()">
          <a class="nav-link" routerLink="/admin/dashboard">{{ 'adminDashboard' | translate }}</a>
        </li>
      </ul>

      <div class="navbar-controls">
        <!-- Language -->
        <div class="dropdown" ngbDropdown>
          <button class="btn-control" ngbDropdownToggle>
            <fa-icon [icon]="faGlobe"></fa-icon>
            <span class="d-none d-md-inline">{{ currentFlag }}</span>
          </button>
          <div ngbDropdownMenu class="dropdown-menu-end">
            <button ngbDropdownItem (click)="switchLanguage('en')" [class.active]="currentLanguage==='en'">ðŸ‡¬ðŸ‡§ English</button>
            <button ngbDropdownItem (click)="switchLanguage('sv')" [class.active]="currentLanguage==='sv'">ðŸ‡¸ðŸ‡ª Swedish</button>
          </div>
        </div>

        <!-- Dark Mode -->
        <button class="btn-control" (click)="toggleDarkMode()">
          <fa-icon [icon]="isDarkMode ? faSun : faMoon"></fa-icon>
        </button>

        <!-- Auth -->
        <ng-container *ngIf="!authService.isAuthenticated(); else loggedIn">
          <a class="btn btn-outline-light btn-sm" routerLink="/login"><fa-icon [icon]="faSignInAlt"></fa-icon></a>
          <a class="btn btn-light btn-sm" routerLink="/register"><fa-icon [icon]="faUserPlus"></fa-icon></a>
        </ng-container>
        <ng-template #loggedIn>
          <button class="btn btn-outline-light btn-sm" (click)="logout()"><fa-icon [icon]="faSignOutAlt"></fa-icon></button>
        </ng-template>
      </div>
    </div>
  </div>
</nav>
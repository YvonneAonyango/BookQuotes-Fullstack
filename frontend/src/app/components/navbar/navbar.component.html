<nav class="navbar">
  <div class="navbar-container">
    <!-- LEFT SECTION -->
    <div class="navbar-left">
      <a routerLink="/" class="navbar-brand">
        <span class="home-icon">ğŸ </span>
        <span class="brand-text">{{ 'brand' | translate }}</span>
      </a>

      <div class="navbar-links">
        <a routerLink="/books" (click)="closeOnNavigate()">Books</a>
        <a routerLink="/quotes" (click)="closeOnNavigate()">Quotes</a>
      </div>
    </div>

    <!-- RIGHT SECTION -->
    <div class="navbar-right">
      <div class="language-selector">
        <span (click)="switchLanguage('en')" [class.active]="currentLanguage==='en'">EN</span>
        <span (click)="switchLanguage('sv')" [class.active]="currentLanguage==='sv'">SE</span>
      </div>

      <div class="theme-toggle" (click)="toggleDarkMode()">
        {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
      </div>

      <div class="auth-container">
        <ng-container *ngIf="!authService.isAuthenticated(); else loggedIn">
          <a routerLink="/login" (click)="closeOnNavigate()">Login</a>
          <a routerLink="/register" class="btn-primary" (click)="closeOnNavigate()">Register</a>
        </ng-container>
        <ng-template #loggedIn>
          <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" (click)="closeOnNavigate()">Dashboard</a>
          <button (click)="logout()">Logout</button>
        </ng-template>
      </div>

      <button class="mobile-toggle" (click)="toggleMenu()">â˜°</button>
    </div>
  </div>

  <!-- MOBILE MENU -->
  <div class="mobile-menu" [class.show]="!isCollapsed">
    <a routerLink="/books" (click)="closeOnNavigate()">Books</a>
    <a routerLink="/quotes" (click)="closeOnNavigate()">Quotes</a>

    <div class="mobile-auth">
      <ng-container *ngIf="!authService.isAuthenticated(); else mobileLoggedIn">
        <a routerLink="/login" (click)="closeOnNavigate()">Login</a>
        <a routerLink="/register" class="btn-primary" (click)="closeOnNavigate()">Register</a>
      </ng-container>
      <ng-template #mobileLoggedIn>
        <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" (click)="closeOnNavigate()">Dashboard</a>
        <button (click)="logout()">Logout</button>
      </ng-template>
    </div>

    <div class="mobile-controls">
      <div class="mobile-theme" (click)="toggleDarkMode()">
        {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
      </div>
      <div class="mobile-language">
        <span (click)="switchLanguage('en')" [class.active]="currentLanguage==='en'">EN</span>
        <span (click)="switchLanguage('sv')" [class.active]="currentLanguage==='sv'">SE</span>
      </div>
    </div>
  </div>
</nav>

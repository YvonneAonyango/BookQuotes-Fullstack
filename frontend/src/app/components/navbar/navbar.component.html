<nav class="navbar" [class.dark-mode]="isDarkMode">
  <div class="navbar-container">
    <!-- Brand -->
    <a routerLink="/" class="navbar-brand">
      <span class="home-icon">ğŸ </span>
      <span>{{ 'brand' | translate }}</span>
    </a>

    <!-- Hamburger for Mobile -->
    <button class="navbar-toggle" (click)="toggleMenu()" aria-label="Toggle navigation menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navbar Menu -->
    <div class="navbar-menu" [class.active]="!isCollapsed">
      <!-- Navigation Links -->
      <div class="nav-links">
        <a routerLink="/books" routerLinkActive="active" class="nav-link" (click)="isCollapsed=true">{{ 'books' | translate }}</a>
        <a routerLink="/quotes" routerLinkActive="active" class="nav-link" (click)="isCollapsed=true">{{ 'quotes' | translate }}</a>
        <a *ngIf="authService.isAdmin()" routerLink="/admin/dashboard" routerLinkActive="active" class="nav-link" (click)="isCollapsed=true">
          {{ 'adminDashboard' | translate }}
        </a>
      </div>

      <!-- Controls: Language + Theme + Auth -->
      <div class="navbar-controls">
        <!-- Language -->
        <div class="language-switcher" #dropdown>
          <button class="language-btn" (click)="toggleDropdown()">{{ currentFlag }}</button>
          <div class="language-dropdown" [class.show]="showDropdown">
            <button class="language-option" (click)="switchLanguage('en')">ğŸ‡¬ğŸ‡§ English</button>
            <button class="language-option" (click)="switchLanguage('sv')">ğŸ‡¸ğŸ‡ª Swedish</button>
          </div>
        </div>

        <!-- Theme -->
        <button class="theme-btn" (click)="toggleDarkMode()">
          {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
        </button>

        <!-- Auth Buttons -->
        <ng-container *ngIf="!authService.isAuthenticated(); else loggedIn">
          <a routerLink="/login" class="btn btn-login" (click)="isCollapsed=true">{{ 'login' | translate }}</a>
          <a routerLink="/register" class="btn btn-register" (click)="isCollapsed=true">{{ 'register' | translate }}</a>
        </ng-container>
        <ng-template #loggedIn>
          <button class="btn btn-logout" (click)="logout()">{{ 'logout' | translate }}</button>
        </ng-template>
      </div>
    </div>
  </div>
</nav>
